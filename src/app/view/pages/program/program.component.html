<app-page-wrapper (primaryAction)="export()" (secondaryAction)="archive()" [actionsNames]="pageActionsNames"
                  needSecondaryAction="true">
  <div class="d-float align-self-center" style="width: 75%; margin: auto">
    <widget-progress-buttons (currentStep)="updateStep($event)" [initialLastComputedStep]="initialStep"
                             [next]="nextStepEvent"></widget-progress-buttons>
  </div>
  <p class="display-6 text-center">{{text.TITLES["TITLE_" + currentStep]}}</p>

  <div [ngSwitch]="currentStep" class="px-6">

    <div *ngSwitchCase="1">
      <p><strong>{{text.PRECONDITIONS}}:</strong></p>
      <ul>
        <li>{{text.STEP_1.PRECONDITION_1}}</li>
        <li>{{text.STEP_1.PRECONDITION_2}}</li>
      </ul>
      <p class="fw-bold"><u>{{text.STEP_1.ACTIVITY}}: </u></p>
      <ul>
        <li>{{text.STEP_1.ASSET_CATEGORY_1}}</li>
        <li>{{text.STEP_1.ASSET_CATEGORY_2}}</li>
        <li>{{text.STEP_1.ASSET_CATEGORY_3}}</li>
      </ul>
      <p class="fw-bold">
        <u>{{text.TEMPLATE_DESC}}</u>
        <a (click)="downloadAssetInventoryTemplate()" class="link-primary" type="button">{{text.STEP_1.TEMPLATE_NAME}}
          .</a>
      </p>
      <img alt="table1" class="img-fluid rounded mx-auto d-block w-75 mb-3" src="assets/images/table_1.png">
      <p class="fw-bold"><u>{{text.ASSIGNMENT_DESC}}</u></p>
      <button (click)="uploadAssetInventory()" class="btn btn-info" type="button">
        {{text.UPLOAD_DOC}}
      </button>
    </div>

    <div *ngSwitchCase="2">
      <p><strong>{{text.STEP_2.INITIAL_DIRECTIVE}}</strong></p>
      <ul>
        <li>{{text.STEP_2.DIRECTIVE_1}}</li>
        <li>{{text.STEP_2.DIRECTIVE_2}}</li>
      </ul>
      <p class="fw-bold">
        <u>{{text.TEMPLATE_DESC}}</u>
        <a (click)="downloadThreatAnalysisTemplate()" class="link-primary" type="button">{{text.STEP_2.TEMPLATE_NAME}}
          .</a>
      </p>
      <img alt="table2" class="img-fluid rounded mx-auto d-block w-75 mb-3" src="assets/images/table_2.png">
      <p class="fw-bold"><u>{{text.ASSIGNMENT_DESC}}</u></p>
      <button (click)="uploadThreatAnalysis()" class="btn btn-info" type="button">
        {{text.UPLOAD_DOC}}
      </button>
    </div>

    <div *ngSwitchCase="3">
      <p><strong>{{text.PRECONDITIONS}}:</strong></p>
      <ul>
        <li>
          {{text.STEP_3.PRECONDITION_1}}
          <a (click)="downloadFrameworkCoreTemplate()" class="link-primary"
             type="button">{{text.STEP_3.TEMPLATE_NAME_1}}.</a>
        </li>
        <li>
          {{text.STEP_3.PRECONDITION_2}}
          <a (click)="downloadImplementationTiersTemplate()" class="link-primary"
             type="button">{{text.STEP_3.TEMPLATE_NAME_2}}.</a>
        </li>
      </ul>
      <p><strong>{{text.STEP_3.ACTIVITY_PREFACE}}</strong></p>
      <ol class="fw-bold">
        <li>
          <u>{{text.STEP_3.ACTIVITY_1}}</u>
          <span class="fw-normal"> {{text.STEP_3.ACTIVITY_1_POSTFACE}}</span>
        </li>
        <img alt="table3" class="img-fluid rounded mx-auto d-block w-25 mb-3" src="assets/images/table_3.png">
        <li><u>{{text.STEP_3.ACTIVITY_2}}</u></li>
      </ol>
      <p>
        {{text.TEMPLATE_DOWNLOAD}}
        <a (click)="downloadProfileTemplate()" class="link-primary" type="button">{{text.STEP_3.TEMPLATE_NAME_3}}.</a>
      </p>
      <div class="d-flex align-items-center">
        <span class="fw-bold me-4"><u>{{text.ASSIGNMENT_DESC}}</u></span>
        <button (click)="uploadTargetProfile()" class="btn btn-info" type="button">
          {{text.UPLOAD_DOC}}
        </button>
      </div>
    </div>

    <div *ngSwitchCase="4">
      <p>{{text.STEP_4.INITIAL_DIRECTIVE}}</p>
      <p class="fw-bold"><u>{{text.STEP_4.ACTIVITY}}</u></p>
      <img alt="table4" class="img-fluid rounded mx-auto d-block w-50 mb-3" src="assets/images/table_4.png">
      <p class="fw-bold">
        <u>{{text.TEMPLATE_DESC}}</u>
        <a (click)="downloadRiskAssessmentTemplate()" class="link-primary" type="button">{{text.STEP_4.TEMPLATE_NAME}}
          .</a>
      </p>
      <p class="fw-bold"><u>{{text.ASSIGNMENT_DESC}}</u></p>
      <button (click)="uploadRiskAssessment()" class="btn btn-info" type="button">
        {{text.UPLOAD_DOC}}
      </button>
    </div>

    <div *ngSwitchCase="5">
      <p>{{text.STEP_5.INITIAL_DIRECTIVE_1}}</p>
      <p><strong>{{text.STEP_5.INITIAL_DIRECTIVE_2}}</strong></p>
      <p class="fw-bold">
        <u>
          {{text.STEP_5.TEMPLATE_DESC_1}}
          <a (click)="downloadFrameworkCoreTemplate()" class="link-primary"
             type="button"> {{text.STEP_3.TEMPLATE_NAME_1}}, </a>
          <a (click)="downloadImplementationTiersTemplate()" class="link-primary"
             type="button">{{text.STEP_3.TEMPLATE_NAME_2}},</a>
          {{text.STEP_5.TEMPLATE_DESC_2}}
          <a (click)="downloadProfileTemplate()" class="link-primary" type="button"> {{text.STEP_3.TEMPLATE_NAME_3}}
            .</a>
        </u>
      </p>
      <img alt="table3" class="img-fluid rounded mx-auto d-block w-25 mb-3" src="assets/images/table_3.png">
      <p class="fw-bold"><u>{{text.ASSIGNMENT_DESC}}</u></p>
      <button (click)="uploadCurrentProfile()" class="btn btn-info" type="button">
        {{text.UPLOAD_DOC}}
      </button>
    </div>

    <div *ngSwitchCase="6">
      <p>{{text.STEP_6.INITIAL_DIRECTIVE}}</p>
      <p class="fw-bold">
        <u>{{text.TEMPLATE_DESC}}</u>
        <a (click)="downloadActionsPriorityTemplate()" class="link-primary"
           type="button">{{text.STEP_6.TEMPLATE_NAME_1}}.</a>
      </p>
      <img alt="table5" class="img-fluid rounded mx-auto d-block w-75 mb-3" src="assets/images/table_5.png">
      <ul>
        <li>{{text.STEP_6.TEMPLATE_EXPLANATION_1}}</li>
        <li>{{text.STEP_6.TEMPLATE_EXPLANATION_2}}</li>
        <li>
          {{text.STEP_6.TEMPLATE_EXPLANATION_3}}
          <a (click)="downloadImpactRatesTemplate()" class="link-primary" type="button">{{text.STEP_6.TEMPLATE_NAME_2}}
            .</a>
        </li>
        <li>
          {{text.STEP_6.TEMPLATE_EXPLANATION_4}}
          <a (click)="downloadCurrentProfile()" class="link-primary" type="button">{{text.STEP_6.TEMPLATE_NAME_3}}.</a>
        </li>
        <li>{{text.STEP_6.TEMPLATE_EXPLANATION_5}}</li>
        <li>{{text.STEP_6.TEMPLATE_EXPLANATION_6}}</li>
        <li>
          {{text.STEP_6.TEMPLATE_EXPLANATION_7}}
          <a (click)="downloadImpactRatesTemplate()" class="link-primary" type="button">{{text.STEP_6.TEMPLATE_NAME_4}}
            .</a>
        </li>
        <li>{{text.STEP_6.TEMPLATE_EXPLANATION_8}}</li>
      </ul>
      <p class="fw-bold"><u>{{text.ASSIGNMENT_DESC}}</u></p>
      <button (click)="uploadActionsPriority()" class="btn btn-info" type="button">
        {{text.UPLOAD_DOC}}
      </button>
    </div>

    <div *ngSwitchCase="7">
      <p><strong>{{text.STEP_7.INITIAL_DIRECTIVE}}</strong></p>
      <p>{{text.STEP_7.FINAL_DIRECTIVE}}</p>
      <p class="fw-bold"><u>{{text.STEP_7.ASSIGNMENT_DESC}}</u></p>
      <button (click)="uploadImplementationDocs()" class="btn btn-info" type="button">
        {{text.UPLOAD_DOC}}
      </button>
    </div>

    <div *ngSwitchDefault></div>
  </div>

  <button (click)="nextStep()" [hidden]="currentStep == 7"
          class="btn btn-primary bottom-right-corner my-3" type="button"
  >       <!--[ngClass]="{ 'disabled': !(files | async)?.length }"-->
    {{text.NEXT_STEP}}
  </button>

  <widget-files-list (deleteEvent)="deleteFile($event)" [files]="files"></widget-files-list>
</app-page-wrapper>
